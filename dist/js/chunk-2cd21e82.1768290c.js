(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2cd21e82"],{"1bf6":function(t,a,e){},"466d":function(t,a,e){"use strict";var n=e("c65b"),i=e("d784"),s=e("825a"),o=e("7234"),r=e("50c4"),c=e("577e"),l=e("1d80"),d=e("dc4a"),u=e("8aa5"),h=e("14c3");i("match",(function(t,a,e){return[function(a){var e=l(this),i=o(a)?void 0:d(a,t);return i?n(i,a,e):new RegExp(a)[t](c(e))},function(t){var n=s(this),i=c(t),o=e(a,n,i);if(o.done)return o.value;if(!n.global)return h(n,i);var l=n.unicode;n.lastIndex=0;var d,m=[],f=0;while(null!==(d=h(n,i))){var p=c(d[0]);m[f]=p,""===p&&(n.lastIndex=u(i,r(n.lastIndex),l)),f++}return 0===f?null:m}]}))},"82a9":function(t,a,e){t.exports=e.p+"img/line2.791be7a5.png"},8987:function(t,a,e){"use strict";e("1bf6")},b459:function(t,a,e){"use strict";e.r(a);var n,i=function(){var t=this,a=t._self._c;return a("div",{staticClass:"wrap"},[a("div",{staticClass:"white_bg"},[a("div",{staticStyle:{padding:"14px 24px 0 24px"}},[t._m(0),a("div",{staticClass:"qr"},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.qrVisible,expression:"qrVisible"}],attrs:{id:"qr"}}),a("img",{directives:[{name:"show",rawName:"v-show",value:0==t.qrVisible,expression:"qrVisible == false"}],staticClass:"qr_img",attrs:{src:t.orderInfo.pay_local,alt:"",id:"qr_img"}})]),a("p",{staticClass:"saveTips"},[t._v("请保存二维码")]),a("div",{directives:[{name:"show",rawName:"v-show",value:0==t.qrVisible,expression:"qrVisible == false"}],staticClass:"download"},[a("van-button",{staticStyle:{width:"50%","margin-left":"25%"},attrs:{plain:"",hairline:"",type:"info",size:"small"},on:{click:t.downCom}},[t._v("保存二维码")])],1),a("div",{directives:[{name:"show",rawName:"v-show",value:1==t.qrVisible,expression:"qrVisible == true"}],staticClass:"download"},[a("van-button",{staticStyle:{width:"50%","margin-left":"25%"},attrs:{plain:"",hairline:"",type:"info",size:"small"},on:{click:t.savePic}},[t._v("保存二维码")])],1),a("p",{staticClass:"amount"},[a("span",{staticClass:"amount_tips"},[t._v("支付时请输入此金额")]),a("span",{staticClass:"amount_amount"},[a("strong",[a("label",[t._v("￥"+t._s(t.orderInfo.order_amount))])])])]),a("a",{staticClass:"open_btn",attrs:{href:"alipays://platformapi/startapp"}},[a("van-button",{attrs:{type:"info",round:""}},[t._v("打开支付宝")])],1)]),a("img",{staticStyle:{height:"20px",width:"100%"},attrs:{src:e("82a9"),alt:""}}),a("div",{staticStyle:{padding:"14px 24px 10px 24px"}},[t._m(1),a("p",{staticClass:"orderInfo"},[t._v(" 订单类型： "),a("span",[t._v(t._s(t.orderInfo.pay_type))])]),a("p",{staticClass:"orderInfo"},[t._v(" 订单编号： "),a("span",{staticStyle:{"font-size":"12px"}},[t._v(t._s(t.orderInfo.order_no))])]),a("p",{staticClass:"orderInfo"},[t._v(" 有效期： "),a("span",[a("van-count-down",{staticStyle:{display:"inline-block",color:"#F56C6C"},attrs:{time:t.sec,format:" mm 分 ss 秒"},on:{finish:t.finish}})],1)])])])])},s=[function(){var t=this,a=t._self._c;return a("p",{staticClass:"title"},[a("strong",[t._v("订单信息")])])},function(){var t=this,a=t._self._c;return a("p",{staticClass:"title"},[a("strong",[t._v("订单状态")])])}],o=e("ade3"),r=(e("c194"),e("7744")),c=(e("66b9"),e("b650")),l=(e("e7e5"),e("d399")),d=(e("c3a6"),e("ad06")),u=(e("0653"),e("34e9")),h=(e("414a"),e("7a82")),m=(e("14d9"),e("e25e"),e("ac1f"),e("5319"),e("d3b7"),e("3ca3"),e("ddb0"),e("2b3d"),e("9861"),e("466d"),e("d044")),f=e.n(m),p={components:(n={},Object(o["a"])(n,h["a"].name,h["a"]),Object(o["a"])(n,u["a"].name,u["a"]),Object(o["a"])(n,d["a"].name,d["a"]),Object(o["a"])(n,l["a"].name,l["a"]),Object(o["a"])(n,c["a"].name,c["a"]),Object(o["a"])(n,r["a"].name,r["a"]),n),data:function(){return{orderInfo:{amount:"",remark:""},qrVisible:!1,sec:3e5,isiOS:!0}},methods:{getData:function(){var t=this,a=this;a.$axios.get("Task/Comment_CommonController.getOrder?orderNo="+this.$route.query.time).then((function(a){"end"==a.data.data?t.$router.push({path:"end"}):(t.orderInfo=a.data.data,t.sec=parseInt(new Date(t.orderInfo.end_time.replace(/\//g,"-")).getTime())-(new Date).getTime(),t.orderInfo.pay_local||t.orderInfo.pay_local||t.orderInfo.pay_local?t.qrVisible=!0:t.qrVisible=!1,t.orderInfo.pay_type="支付宝",t.qr())})).catch((function(t){console.log(t)}))},finish:function(){this.$router.push({path:"end"}),this.sec=3e5},qr:function(){new f.a("qr",{width:195,height:195,text:this.orderInfo.qr_url})},savePic:function(){if(1==this.qrVisible){var t=document.getElementById("qr").getElementsByTagName("canvas"),a=document.createElement("a");a.href=t[0].toDataURL("image/png"),a.download="付款二维码",a.click(),l["a"].success("下载成功")}else{var e=document.createElement("a");e.href=this.orderInfo.pay_local,e.download="",e.click(),l["a"].success("下载成功")}},downloadIamge:function(t,a){var e=new Image;e.setAttribute("crossOrigin","anonymous"),e.onload=function(){var t=document.createElement("canvas");t.width=e.width,t.height=e.height;var n=t.getContext("2d");n.drawImage(e,0,0,e.width,e.height);var i=t.toDataURL("image/png"),s=document.createElement("a"),o=new MouseEvent("click");s.download=a||"photo",s.href=i,s.dispatchEvent(o)},e.src=t},downCom:function(){this.downloadByBlob(this.orderInfo.pay_local,"收款二维码")},downloadByBlob:function(t,a){var e=this,n=new Image;n.setAttribute("crossOrigin","anonymous"),n.src=t,n.onload=function(){var t=document.createElement("canvas");t.width=n.width,t.height=n.height;var i=t.getContext("2d");i.drawImage(n,0,0,n.width,n.height),t.toBlob((function(t){var n=URL.createObjectURL(t);e.download(n,a),URL.revokeObjectURL(n)}))}},download:function(t,a){var e=document.createElement("a");e.download=a,e.href=t,e.click(),e.remove()},ios:function(){var t=navigator.userAgent,a=!!t.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/);this.isiOS=a},onCopy:function(){l["a"].success("复制成功")},onError:function(){l["a"].fail("复制失败请重试！！")}},mounted:function(){this.getData(),this.ios()}},v=p,w=(e("8987"),e("2877")),g=Object(w["a"])(v,i,s,!1,null,"612966ad",null);a["default"]=g.exports}}]);
//# sourceMappingURL=chunk-2cd21e82.1768290c.js.map