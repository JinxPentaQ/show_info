(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-665284e8"],{"42cf":function(t,e,a){},"466d":function(t,e,a){"use strict";var n=a("c65b"),i=a("d784"),s=a("825a"),o=a("7234"),r=a("50c4"),c=a("577e"),l=a("1d80"),d=a("dc4a"),u=a("8aa5"),m=a("14c3");i("match",(function(t,e,a){return[function(e){var a=l(this),i=o(e)?void 0:d(e,t);return i?n(i,e,a):new RegExp(e)[t](c(a))},function(t){var n=s(this),i=c(t),o=a(e,n,i);if(o.done)return o.value;if(!n.global)return m(n,i);var l=n.unicode;n.lastIndex=0;var d,h=[],v=0;while(null!==(d=m(n,i))){var f=c(d[0]);h[v]=f,""===f&&(n.lastIndex=u(i,r(n.lastIndex),l)),v++}return 0===v?null:h}]}))},"53e1":function(t,e,a){"use strict";a("42cf")},"82a9":function(t,e,a){t.exports=a.p+"img/line2.791be7a5.png"},b459:function(t,e,a){"use strict";a.r(e);var n,i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"wrap"},[e("div",{staticClass:"white_bg"},[e("div",{staticStyle:{padding:"14px 24px 0 24px"}},[t._m(0),e("div",{staticClass:"qr"},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.qrVisible,expression:"qrVisible"}],attrs:{id:"qr"}}),e("img",{directives:[{name:"show",rawName:"v-show",value:0==t.qrVisible,expression:"qrVisible == false"}],staticClass:"qr_img",attrs:{src:t.orderInfo.pay_local,alt:"",id:"qr_img"}})]),e("p",{staticClass:"saveTips"},[t._v("请保存二维码")]),e("div",{directives:[{name:"show",rawName:"v-show",value:0==t.qrVisible,expression:"qrVisible == false"}],staticClass:"download"},[e("van-button",{staticStyle:{width:"50%","margin-left":"25%"},attrs:{plain:"",hairline:"",type:"info",size:"small"},on:{click:t.downCom}},[t._v("保存二维码")])],1),e("div",{directives:[{name:"show",rawName:"v-show",value:1==t.qrVisible,expression:"qrVisible == true"}],staticClass:"download"},[e("van-button",{staticStyle:{width:"50%","margin-left":"25%"},attrs:{plain:"",hairline:"",type:"info",size:"small"},on:{click:t.savePic}},[t._v("保存二维码")])],1),e("p",{staticClass:"amount"},[e("span",{staticClass:"amount_tips"},[t._v("支付时请输入此金额")]),e("span",{staticClass:"amount_amount"},[e("strong",[e("label",[t._v("￥"+t._s(t.orderInfo.order_amount))])])])]),e("a",{staticClass:"open_btn",attrs:{href:"alipays://platformapi/startapp"}},[e("van-button",{attrs:{type:"info",round:""}},[t._v("打开支付宝")])],1)]),e("img",{staticStyle:{height:"20px",width:"100%"},attrs:{src:a("82a9"),alt:""}}),e("div",{staticStyle:{padding:"14px 24px 10px 24px"}},[t._m(1),e("p",{staticClass:"orderInfo"},[t._v(" 订单类型： "),e("span",[t._v(t._s(t.orderInfo.pay_type))])]),e("p",{staticClass:"orderInfo"},[t._v(" 订单编号： "),e("span",{staticStyle:{"font-size":"12px"}},[t._v(t._s(t.orderInfo.order_no))])]),e("p",{staticClass:"orderInfo"},[t._v(" 有效期： "),e("span",[e("van-count-down",{staticStyle:{display:"inline-block",color:"#F56C6C"},attrs:{time:t.sec,format:" mm 分 ss 秒"},on:{finish:t.finish}})],1)])])])])},s=[function(){var t=this,e=t._self._c;return e("p",{staticClass:"title"},[e("strong",[t._v("订单信息")])])},function(){var t=this,e=t._self._c;return e("p",{staticClass:"title"},[e("strong",[t._v("订单状态")])])}],o=a("ade3"),r=(a("c194"),a("7744")),c=(a("66b9"),a("b650")),l=(a("e7e5"),a("d399")),d=(a("c3a6"),a("ad06")),u=(a("0653"),a("34e9")),m=(a("414a"),a("7a82")),h=(a("14d9"),a("e25e"),a("ac1f"),a("5319"),a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),a("9861"),a("466d"),a("d044")),v=a.n(h),f={components:(n={},Object(o["a"])(n,m["a"].name,m["a"]),Object(o["a"])(n,u["a"].name,u["a"]),Object(o["a"])(n,d["a"].name,d["a"]),Object(o["a"])(n,l["a"].name,l["a"]),Object(o["a"])(n,c["a"].name,c["a"]),Object(o["a"])(n,r["a"].name,r["a"]),n),data:function(){return{orderInfo:{amount:"",remark:""},qrVisible:!1,sec:3e5,isiOS:!0,timer:""}},methods:{getData:function(){var t=this,e=this;e.$axios.get("Task/Comment_CommonController.getOrder?orderNo="+this.$route.query.time).then((function(e){1!==e.data.status||2!==e.data.status?(t.$router.push({path:"end"}),clearInterval(t.timer)):(t.orderInfo=e.data.data,t.sec=parseInt(new Date(t.orderInfo.end_time.replace(/\//g,"-")).getTime())-(new Date).getTime(),t.orderInfo.pay_type="支付宝",t.qr())})).catch((function(t){console.log(t)}))},finish:function(){this.sec=3e5},qr:function(){new v.a("qr",{width:195,height:195,text:this.orderInfo.qr_url})},savePic:function(){if(1==this.qrVisible){var t=document.getElementById("qr").getElementsByTagName("canvas"),e=document.createElement("a");e.href=t[0].toDataURL("image/png"),e.download="付款二维码",e.click(),l["a"].success("下载成功")}else{var a=document.createElement("a");a.href=this.orderInfo.pay_local,a.download="",a.click(),l["a"].success("下载成功")}},downloadIamge:function(t,e){var a=new Image;a.setAttribute("crossOrigin","anonymous"),a.onload=function(){var t=document.createElement("canvas");t.width=a.width,t.height=a.height;var n=t.getContext("2d");n.drawImage(a,0,0,a.width,a.height);var i=t.toDataURL("image/png"),s=document.createElement("a"),o=new MouseEvent("click");s.download=e||"photo",s.href=i,s.dispatchEvent(o)},a.src=t},downCom:function(){this.downloadByBlob(this.orderInfo.pay_local,"收款二维码")},downloadByBlob:function(t,e){var a=this,n=new Image;n.setAttribute("crossOrigin","anonymous"),n.src=t,n.onload=function(){var t=document.createElement("canvas");t.width=n.width,t.height=n.height;var i=t.getContext("2d");i.drawImage(n,0,0,n.width,n.height),t.toBlob((function(t){var n=URL.createObjectURL(t);a.download(n,e),URL.revokeObjectURL(n)}))}},download:function(t,e){var a=document.createElement("a");a.download=e,a.href=t,a.click(),a.remove()},ios:function(){var t=navigator.userAgent,e=!!t.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/);this.isiOS=e},onCopy:function(){l["a"].success("复制成功")},onError:function(){l["a"].fail("复制失败请重试！！")}},created:function(){this.getData()},mounted:function(){this.timer=setInterval(this.getData,5e3),this.ios()}},p=f,w=(a("53e1"),a("2877")),g=Object(w["a"])(p,i,s,!1,null,"1c72b9e1",null);e["default"]=g.exports}}]);
//# sourceMappingURL=chunk-665284e8.d0d6b7cd.js.map